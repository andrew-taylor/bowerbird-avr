<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MyUSB Library: Scheduler.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../dir_2e1fbef791c6441b28631243cfb4eaa5.html">MyUSB</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_eb1d2bd67c649ebcaa4d9299a6ee0936.html">Scheduler</a>
  </div>
</div>
<div class="contents">
<h1>Scheduler.c File Reference</h1><code>#include &quot;<a class="el" href="../../d1/d6e/a00073.html">Scheduler.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2c/a00072.html#3f05ef65e40d02fe44d25c828d11daab">Scheduler_HasDelayElapsed</a> (const uint16_t Delay, <a class="el" href="../../d1/d6e/a00073.html#85c828e7fda4a0df52d4a4b473b29a91">SchedulerDelayCounter_t</a> *const DelayCounter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2c/a00072.html#127a96f23474f8e7657adc6afb8af282">Scheduler_SetTaskMode</a> (const <a class="el" href="../../d1/d6e/a00073.html#e57af1bc853a50162b69e53b1402f602">TaskPtr_t</a> Task, const bool TaskStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2c/a00072.html#200bd182eca1ac8233fed8e13ffd5d22">Scheduler_SetGroupTaskMode</a> (const uint8_t GroupID, const bool TaskStatus)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="../../d1/d6e/a00073.html#85c828e7fda4a0df52d4a4b473b29a91">SchedulerDelayCounter_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2c/a00072.html#fbf8b8d9e4274db0df1619fcc69abf31">Scheduler_TickCounter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2c/a00072.html#9dd565668494bb176cf928ab3ea13d61">Scheduler_TotalTasks</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="3f05ef65e40d02fe44d25c828d11daab"></a><!-- doxytag: member="Scheduler.c::Scheduler_HasDelayElapsed" ref="3f05ef65e40d02fe44d25c828d11daab" args="(const uint16_t Delay, SchedulerDelayCounter_t *const DelayCounter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Scheduler_HasDelayElapsed           </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&nbsp;</td>
          <td class="paramname"> <em>Delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d6e/a00073.html#85c828e7fda4a0df52d4a4b473b29a91">SchedulerDelayCounter_t</a> *const &nbsp;</td>
          <td class="paramname"> <em>DelayCounter</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determines if the given tick delay has elapsed, based on the given .<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Delay</em>&nbsp;</td><td>The delay to test for, measured in ticks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DelayCounter</em>&nbsp;</td><td>The counter which is storing the starting tick value for the delay</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Boolean true if the delay has elapsed, false otherwise</dd></dl>
Usage Example: <div class="fragment"><pre class="fragment">      <span class="keyword">static</span> <a class="code" href="../../d1/d6e/a00073.html#85c828e7fda4a0df52d4a4b473b29a91">SchedulerDelayCounter_t</a> DelayCounter = 10000; <span class="comment">// Force immediate run on startup</span>
                 
      <span class="comment">// Task runs every 10000 ticks, 10 seconds for this demo</span>
      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2c/a00072.html#3f05ef65e40d02fe44d25c828d11daab">Scheduler_HasDelayElapsed</a>(10000, &amp;DelayCounter))
      {
           <span class="comment">// Code to execute after delay interval elapsed here</span>
      }
</pre></div> 
</div>
</div><p>
<a class="anchor" name="200bd182eca1ac8233fed8e13ffd5d22"></a><!-- doxytag: member="Scheduler.c::Scheduler_SetGroupTaskMode" ref="200bd182eca1ac8233fed8e13ffd5d22" args="(const uint8_t GroupID, const bool TaskStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler_SetGroupTaskMode           </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>GroupID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>TaskStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the task mode for a given task group ID, allowing for an entire group of tasks to have their statuses changed at once.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>GroupID</em>&nbsp;</td><td>Value of the task group ID whose status is to be changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TaskStatus</em>&nbsp;</td><td>New task status for tasks in the specified group (TASK_RUN or TASK_STOP) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="127a96f23474f8e7657adc6afb8af282"></a><!-- doxytag: member="Scheduler.c::Scheduler_SetTaskMode" ref="127a96f23474f8e7657adc6afb8af282" args="(const TaskPtr_t Task, const bool TaskStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Scheduler_SetTaskMode           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d6e/a00073.html#e57af1bc853a50162b69e53b1402f602">TaskPtr_t</a>&nbsp;</td>
          <td class="paramname"> <em>Task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>TaskStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the task mode for a given task.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Task</em>&nbsp;</td><td>Name of the task whose status is to be changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TaskStatus</em>&nbsp;</td><td>New task status for the task (TASK_RUN or TASK_STOP) </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="fbf8b8d9e4274db0df1619fcc69abf31"></a><!-- doxytag: member="Scheduler.c::Scheduler_TickCounter" ref="fbf8b8d9e4274db0df1619fcc69abf31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../d1/d6e/a00073.html#85c828e7fda4a0df52d4a4b473b29a91">SchedulerDelayCounter_t</a> <a class="el" href="../../d1/d6e/a00073.html#fbf8b8d9e4274db0df1619fcc69abf31">Scheduler_TickCounter</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Contains the current scheduler tick count, for use with the delay functions. If the delay functions are used in the user code, this should be incremented each tick period so that the delays can be calculated. 
</div>
</div><p>
<a class="anchor" name="9dd565668494bb176cf928ab3ea13d61"></a><!-- doxytag: member="Scheduler.c::Scheduler_TotalTasks" ref="9dd565668494bb176cf928ab3ea13d61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t <a class="el" href="../../d1/d6e/a00073.html#9dd565668494bb176cf928ab3ea13d61">Scheduler_TotalTasks</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Contains the total number of tasks in the task list, irrespective of if the task's status is set to TASK_RUN or TASK_STOP.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This value should be treated as read-only, and never altered in user-code. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 2 18:01:18 2008 for MyUSB Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
